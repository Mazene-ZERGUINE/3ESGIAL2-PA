<h1>Administration des signalements d'utilisateurs</h1>

<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <!--#region     id -->
        <ng-container *ngFor="let item of $any(items[0]) | keyvalue">
          <th scope="col" *ngIf="item.key === 'utilisateur_signalement_id'">
            {{ $any(item.key) | titlecase }}
          </th>
        </ng-container>
        <!--#endregion  id -->
        <!--#region     remaining fields -->
        <ng-container *ngFor="let item of $any(items[0]) | keyvalue">
          <th scope="col" *ngIf="item.key !== 'utilisateur_signalement_id' && item.key !== 'utilisateur'">
            {{ $any(item.key) | titlecase }}
          </th>
        </ng-container>
        <!--#endregion  remaining fields -->
        <th scope="col">Voir utilisateur</th>
        <th scope="col">Edition</th>
        <th scope="col">Suppression</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of items">
        <!--#region     id -->
        <ng-container *ngFor="let prop of $any(item) | keyvalue">
          <th scope="row" *ngIf="prop.key === 'utilisateur_signalement_id'">
            {{ prop.value }}
          </th>
        </ng-container>
        <!--#endregion  id -->
        <!--#region     remaining fields -->
        <ng-container *ngFor="let prop of $any(item) | keyvalue">
          <td
            *ngIf="
              prop.key !== 'utilisateur_signalement_id' && prop.key !== 'description' && prop.key !== 'utilisateur'
            "
          >
            {{
              prop.key !== 'created_at' && prop.key !== 'updated_at'
                ? prop.value
                : ($any(prop.value) | date | date : 'dd MMMM yyyy' : '' : 'fr')
            }}
          </td>
          <td *ngIf="prop.key === 'description'">
            {{ $any(prop.value) | slice : 0 : 10 }}{{ $any(prop.value)?.length > 10 ? '...' : '' }}
          </td>
        </ng-container>
        <!--#endregion  remaining fields -->
        <td>
          <button
            class="btn btn-outline-secondary"
            (click)="onSee('users/profile', $any(item)['utilisateur']?.['pseudonyme'])"
          >
            <i class="bi bi-eye"></i>
          </button>
        </td>
        <td>
          <button
            class="btn btn-outline-warning"
            (click)="onEdit(userReportsPath, $any(item)['utilisateur_signalement_id'])"
          >
            <i class="bi bi-pencil-fill"></i>
          </button>
        </td>
        <td>
          <button
            class="btn btn-outline-danger"
            (click)="onDelete('utilisateur-signalements', $any(item)['utilisateur_signalement_id'])"
          >
            <i class="bi bi-trash-fill"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
